---
title: 【Next】动态路由
date: 2024-03-25
sidebar: 'auto'
categories:
 - Next
tags:
 - Next
publish: true
---
## 前言
当事先不知道确切的路由时候，可以使用动态数据创建路由，比如文档详情。我们可以采用中括号来将文件夹的名字括住，必如`[folderName]`、`[...folderName]`、`[[...folderName]]`

### [folderName]
比如[id]，这个路由的名字会作为params的 props传给布局、页面、路由处理程序以及generateMetadata 函数
新建`blog/[id]/page.jsx`
```jsx
export function generateMetadata({params}) {
	return {
		title: params.id,
	};
}
export default function Page({params}) {
	const {id} = params;
	return <div>page id: {id}</div>;
}
```
`blog/[id]/layout.jsx`
```jsx
export default function Layout({params, children}) {
	const {id} = params;
	return (
		<div>
			<h2>layout id: {id}</h2>
			{children}
		</div>
	);
}
```
打开`http://localhost:3000/blog/2`页面及其标题发生改变
<img :src="$withBase('/imgs/0_2_NextJS/dynamicRouting/route1.jpg')" alt=""><br/>
## [...floderName]
加省略号表示捕获所有路由片段，并将其作为数组放置在params中的属性上
新建`/blog/[...tag]/page.jsx`
```jsx
export default function Page({params}) {
	return <div>params: {params.tag.join(",")}</div>;
}
```
打开`http://localhost:3000/blog/1/2`
<img :src="$withBase('/imgs/0_2_NextJS/dynamicRouting/route2.jpg')" alt=""><br/>

## [[...folderName]]
它和`[...folderName]`类似，唯一不同的是他可以匹配[]上一级的路由，比如根据上面两个例子，它可以匹配`/blog`、`/blog/1`、`blog/1/2`